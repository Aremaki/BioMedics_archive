# Work folder by Jacques UNG

This folder contains all the work done by Jacques UNG during Its 4 month internship from April 2023 to July 2023. It contains the three parts of the biology normalisation pipe, i.e :
- The extraction pipe (It is not the used version)
- The measurement pipe
- The normalization of the extracted entities

As a newcomer, please start with the folder `SUPER_README` which contains a brief introduction about the project, Its aims and actual limits.
Almost each subfolder important for the state of the art normalization pipe contains a `README.md` describing briefly what does each file. Moreover, each code files are documented.

The folders in the root of this project are :
- `data-bio`: All the data used in all our experiments and all the results that these experiments generated. (Except data used / generated by rule-based extractor (`eds-nlp_umls` folder) which stores Its content in Its folder)
- `eds-nlp_annotations`:  Measurements extractor
- `eds-nlp_umls`: Rule-based NER. NOT STATE OF THE ART (SOA)
- `edsnlp`: CUSTOM edsnlp library with essentially modified `eds.tables` and modified `eds.measurements` pipe
- `nlstruct`: BERT based NER. NOT SOA
- `normalisation`: Normalisator of bio entities.
- `resultats`: Sum-up of major results obtained during these 4 months.
- `super_pipe`: Entire pipe from extraction to normalisation through measurements pipe.
- `SUPER_README`: General project description


## Pierre

## How to train the model ##

conda activate pierrenv

go on this path: Pierre_Medic/NEURAL_BASED_NER

## Project.yml ##
Pierre_Medic/NEURAL_BASED_NER/eds-medic/project.yml

Modifier les path du dataset: 
  train: "../data/attr/train"
  dev: "../data/attr/val"
  test: "../data/attr/test"
  
  
## Config.cfg ##
Pierre_Medic/NEURAL_BASED_NER/eds-medic/configs/config.cfg

Modifier ent_label: 
ent_labels =["DISO","BIO_comp","Chemical_and_drugs","dosage","BIO","strength","form","SECTION_antecedent","route","SECTION_motif","SECTION_histoire","BIO_milieu","SECTION_examen_clinique","SECTION_examen_complementaire","SECTION_mode_de_vie","SECTION_traitement_entree","SECTION_antecedent_familiaux","SECTION_traitement_sortie","SECTION_traitement","SECTION_evolution","SECTION_autre","SECTION_conclusion"]

Modifier les attributs et le linkage attrributs--entit√©s

qualifiers = ["_.Action","_.Certainty","_.Temporality","_.Negation","_.Family"]
label_constraints = {"_.Action":["Chemical_and_drugs"],"_.Certainty":["Chemical_and_drugs"],"_.Temporality":["Chemical_and_drugs"],"_.Negation":["Chemical_and_drugs"],"_.Family":["Chemical_and_drugs"]}


## 
cd Pierre_Medic/NEURAL_BASED_NER
sbatch train.sh 
-- 
Pierre_Medic/NEURAL_BASED_NER/eds-medic/scripts/save_to_brat.py
a modifier pour mettre le bon path 

--
sbatch test.sh

sbatch save.sh 

## Console display ##

tail -f -n 100000000000000 logs/slurm-10953-stdout.log 


## commande gpu ##
scancel : pour cancel un job
